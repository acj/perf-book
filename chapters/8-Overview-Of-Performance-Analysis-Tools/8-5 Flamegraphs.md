## Flame Graphs

Flame graph is a popular way of visualizing the profiling data and the most frequent code-paths in the program. It allows us to see which function calls take the biggest portion of execution time. Figure @fig:FlameGraph shows the example of a flame graph for the [x264](https://openbenchmarking.org/test/pts/x264) video encoding benchmark, generated with open-source [scripts](https://github.com/brendangregg/FlameGraph)[^1] developed by Brendan Gregg. Nowadays, nearly all profilers can automatically generate a flame graph as long as the call stacks were collected during the profiling session.

![A Flame Graph for [x264](https://openbenchmarking.org/test/pts/x264) benchmark.](../../img/perf-analysis/Flamegraph.jpg){#fig:FlameGraph width=90%}

On the flame graph screenshot, we can see that the hottest path in the program is `x264 -> threadpool_thread_internal -> slices_write -> slice_write -> x264_8_macroblock_analyse`. This visualization gives you a very good intuition on where the most time is spent. Flame graphs are interactive, you can click on any bar on the image and it will zoom into that particular code path. You can keep zooming until you find a place that doesn't look according to your expectations or you reach a leaf/tail function - now you have actionable information you can use in your analysis. Another strategy is to figure our what is the hottest function in the program (not immediately clear from this flamegraph) and go bottom-up throught the flame graph, trying to understand from where this hottest function gets called.

[^1]: Flame Graphs by Brendan Gregg - [https://github.com/brendangregg/FlameGraph](https://github.com/brendangregg/FlameGraph)